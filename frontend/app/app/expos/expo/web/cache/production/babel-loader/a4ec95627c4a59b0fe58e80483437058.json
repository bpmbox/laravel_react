{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useRef}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Animated from\"react-native-web/dist/exports/Animated\";import Constants from\"expo-constants\";import DisplayResult from\"./DisplayResult\";import Actions from\"./Actions\";export default function RockPaperScissors(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),userChoice=_useState2[0],setUserChoice=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),computerChoice=_useState4[0],setComputerChoice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),canPlay=_useState8[0],setPlay=_useState8[1];var fadeAnimation=useRef(new Animated.Value(1)).current;function play(choice){var randomComputerChoice=Math.floor(Math.random()*3)+1;var resultString=\"\";if(choice===1){resultString=randomComputerChoice===3?\"WIN\":\"LOSE\";}else if(choice===2){resultString=randomComputerChoice===1?\"WIN\":\"LOSE\";}else{resultString=randomComputerChoice===2?\"WIN\":\"LOSE\";}if(choice===randomComputerChoice){resultString=\"DRAW\";}setUserChoice(choice);setComputerChoice(randomComputerChoice);setTimeout(function(){setResult(resultString);},300);Animated.sequence([Animated.timing(fadeAnimation,{toValue:0,duration:300,useNativeDriver:true}),Animated.timing(fadeAnimation,{toValue:1,duration:300,useNativeDriver:true})]).start();setPlay(false);setTimeout(function(){setPlay(true);},600);}return React.createElement(SafeAreaView,{style:styles.container},React.createElement(View,{style:styles.content},React.createElement(View,{style:styles.result},React.createElement(Animated.Text,{style:[styles.resultText,{opacity:fadeAnimation}]},result)),React.createElement(View,{style:styles.screen},!result?React.createElement(Text,{style:styles.readyText},\"Let's Play!\"):React.createElement(DisplayResult,{userChoice:userChoice,computerChoice:computerChoice})),React.createElement(Actions,{play:play,canPlay:canPlay})));}var styles=StyleSheet.create({container:{flex:1,paddingTop:Constants.statusBarHeight},content:{flex:1,padding:15},result:{height:100,justifyContent:\"flex-end\",alignItems:\"center\"},resultText:{fontSize:48,fontWeight:\"bold\"},screen:{flex:1,flexDirection:\"row\"},readyText:{marginTop:-48,alignSelf:\"center\",textAlign:\"center\",width:\"100%\",fontSize:48,fontWeight:\"bold\"}});","map":{"version":3,"sources":["/app/examples/6-rock-paper-scissors/RockPaperScissors.js"],"names":["React","useState","useRef","Constants","DisplayResult","Actions","RockPaperScissors","userChoice","setUserChoice","computerChoice","setComputerChoice","result","setResult","canPlay","setPlay","fadeAnimation","Animated","Value","current","play","choice","randomComputerChoice","Math","floor","random","resultString","setTimeout","sequence","timing","toValue","duration","useNativeDriver","start","styles","container","content","resultText","opacity","screen","readyText","StyleSheet","create","flex","paddingTop","statusBarHeight","padding","height","justifyContent","alignItems","fontSize","fontWeight","flexDirection","marginTop","alignSelf","textAlign","width"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { StyleSheet, SafeAreaView, Text, View, Animated } from \"react-native\";\nimport Constants from \"expo-constants\";\nimport DisplayResult from \"./DisplayResult\";\nimport Actions from \"./Actions\";\n\nexport default function RockPaperScissors() {\n  const [userChoice, setUserChoice] = useState(0);\n  const [computerChoice, setComputerChoice] = useState(0);\n  const [result, setResult] = useState(\"\");\n  const [canPlay, setPlay] = useState(true);\n\n  // https://reactjs.org/docs/hooks-reference.html#useref\n  const fadeAnimation = useRef(new Animated.Value(1)).current;\n\n  function play(choice) {\n    // 1 = rock, 2 = paper, 3 = scissors\n    const randomComputerChoice = Math.floor(Math.random() * 3) + 1;\n    let resultString = \"\";\n\n    if (choice === 1) {\n      resultString = randomComputerChoice === 3 ? \"WIN\" : \"LOSE\";\n    } else if (choice === 2) {\n      resultString = randomComputerChoice === 1 ? \"WIN\" : \"LOSE\";\n    } else {\n      resultString = randomComputerChoice === 2 ? \"WIN\" : \"LOSE\";\n    }\n\n    if (choice === randomComputerChoice) {\n      resultString = \"DRAW\";\n    }\n\n    setUserChoice(choice);\n    setComputerChoice(randomComputerChoice);\n\n    // Wait animation hide old result\n    setTimeout(() => {\n      setResult(resultString);\n    }, 300);\n\n    // Animation hide old result and show new result\n    // https://reactnative.dev/docs/animations\n    Animated.sequence([\n      Animated.timing(fadeAnimation, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true,\n      }),\n      Animated.timing(fadeAnimation, {\n        toValue: 1,\n        duration: 300,\n        useNativeDriver: true,\n      }),\n    ]).start();\n\n    // Disable action when animation running\n    setPlay(false);\n    setTimeout(() => {\n      setPlay(true);\n    }, 600);\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.content}>\n        <View style={styles.result}>\n          <Animated.Text\n            style={[styles.resultText, { opacity: fadeAnimation }]}\n          >\n            {result}\n          </Animated.Text>\n        </View>\n\n        <View style={styles.screen}>\n          {!result ? (\n            <Text style={styles.readyText}>Let's Play!</Text>\n          ) : (\n            <DisplayResult\n              userChoice={userChoice}\n              computerChoice={computerChoice}\n            />\n          )}\n        </View>\n\n        <Actions play={play} canPlay={canPlay} />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: Constants.statusBarHeight,\n  },\n  content: {\n    flex: 1,\n    padding: 15,\n  },\n  result: {\n    height: 100,\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n  },\n  resultText: {\n    fontSize: 48,\n    fontWeight: \"bold\",\n  },\n  screen: {\n    flex: 1,\n    flexDirection: \"row\",\n  },\n  readyText: {\n    marginTop: -48,\n    alignSelf: \"center\",\n    textAlign: \"center\",\n    width: \"100%\",\n    fontSize: 48,\n    fontWeight: \"bold\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}