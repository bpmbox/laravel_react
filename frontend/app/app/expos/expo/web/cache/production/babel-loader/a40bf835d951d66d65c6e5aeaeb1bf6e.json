{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useRef,useCallback}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Platform from\"react-native-web/dist/exports/Platform\";import{StatusBar}from\"expo-status-bar\";import Constants from\"expo-constants\";import Result from\"./Result\";import Control from\"./Control\";import{displayTime}from\"./util\";export default function StopWatch(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isRunning=_useState4[0],setRunning=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),results=_useState6[0],setResults=_useState6[1];var timer=useRef(null);var handleLeftButtonPress=useCallback(function(){if(isRunning){setResults(function(previousResults){return[time].concat(_toConsumableArray(previousResults));});}else{setResults([]);setTime(0);}},[isRunning]);var handleRightButtonPress=useCallback(function(){if(!isRunning){var interval=setInterval(function(){setTime(function(previousTime){return previousTime+1;});},10);timer.current=interval;}else{clearInterval(timer.current);}setRunning(function(previousState){return!previousState;});},[isRunning]);return React.createElement(SafeAreaView,{style:styles.container},React.createElement(StatusBar,{style:\"light\"}),React.createElement(View,{style:styles.display},React.createElement(Text,{style:styles.displayText},displayTime(time))),React.createElement(View,{style:styles.control},React.createElement(Control,{isRunning:isRunning,handleLeftButtonPress:handleLeftButtonPress,handleRightButtonPress:handleRightButtonPress})),React.createElement(View,{style:styles.result},React.createElement(Result,{results:results})));}var styles=StyleSheet.create({container:{flex:1,backgroundColor:\"black\",paddingTop:Constants.statusBarHeight},display:{flex:3/5,justifyContent:\"center\",alignItems:\"center\"},displayText:{color:\"#fff\",fontSize:70,fontWeight:\"200\",fontFamily:Platform.OS===\"ios\"?\"Helvetica Neue\":null},control:{height:70,flexDirection:\"row\",justifyContent:\"space-around\"},result:{flex:2/5}});","map":{"version":3,"sources":["/app/examples/8-stopwatch/StopWatch.js"],"names":["React","useState","useRef","useCallback","StatusBar","Constants","Result","Control","displayTime","StopWatch","time","setTime","isRunning","setRunning","results","setResults","timer","handleLeftButtonPress","previousResults","handleRightButtonPress","interval","setInterval","previousTime","current","clearInterval","previousState","styles","container","display","displayText","control","result","StyleSheet","create","flex","backgroundColor","paddingTop","statusBarHeight","justifyContent","alignItems","color","fontSize","fontWeight","fontFamily","Platform","OS","height","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport { StyleSheet, SafeAreaView, Text, View, Platform } from \"react-native\";\nimport { StatusBar } from \"expo-status-bar\";\nimport Constants from \"expo-constants\";\nimport Result from \"./Result\";\nimport Control from \"./Control\";\nimport { displayTime } from \"./util\";\n\nexport default function StopWatch() {\n  const [time, setTime] = useState(0);\n  const [isRunning, setRunning] = useState(false);\n  const [results, setResults] = useState([]);\n  const timer = useRef(null);\n\n  // https://reactjs.org/docs/hooks-reference.html#usecallback\n  const handleLeftButtonPress = useCallback(() => {\n    if (isRunning) {\n      setResults((previousResults) => [time, ...previousResults]);\n    } else {\n      setResults([]);\n      setTime(0);\n    }\n  }, [isRunning]);\n\n  const handleRightButtonPress = useCallback(() => {\n    if (!isRunning) {\n      const interval = setInterval(() => {\n        setTime((previousTime) => previousTime + 1);\n      }, 10);\n\n      timer.current = interval;\n    } else {\n      clearInterval(timer.current);\n    }\n\n    setRunning((previousState) => !previousState);\n  }, [isRunning]);\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <StatusBar style=\"light\" />\n\n      <View style={styles.display}>\n        <Text style={styles.displayText}>{displayTime(time)}</Text>\n      </View>\n\n      <View style={styles.control}>\n        <Control\n          isRunning={isRunning}\n          handleLeftButtonPress={handleLeftButtonPress}\n          handleRightButtonPress={handleRightButtonPress}\n        />\n      </View>\n\n      <View style={styles.result}>\n        <Result results={results} />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"black\",\n    paddingTop: Constants.statusBarHeight,\n  },\n  display: {\n    flex: 3 / 5,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  displayText: {\n    color: \"#fff\",\n    fontSize: 70,\n    fontWeight: \"200\",\n    fontFamily: Platform.OS === \"ios\" ? \"Helvetica Neue\" : null,\n  },\n  control: {\n    height: 70,\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n  },\n  result: { flex: 2 / 5 },\n});\n"]},"metadata":{},"sourceType":"module"}