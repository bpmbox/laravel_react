{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import _ from'lodash';import PropTypes from'prop-types';import XDate from'xdate';import memoize from'memoize-one';import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import GestureRecognizer,{swipeDirections}from'react-native-swipe-gestures';import{page,isGTE,isLTE,sameMonth}from\"../dateutils\";import{xdateToData,parseDate,toMarkingFormat}from\"../interface\";import{getState}from\"../day-state-manager\";import{extractComponentProps}from\"../component-updater\";import{WEEK_NUMBER}from\"../testIDs\";import styleConstructor from\"./style\";import CalendarHeader from\"./header\";import Day from\"./day/index\";import BasicDay from\"./day/basic\";var Calendar=function(_Component){_inherits(Calendar,_Component);var _super=_createSuper(Calendar);function Calendar(){var _this;_classCallCheck(this,Calendar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentMonth:_this.props.current?parseDate(_this.props.current):new XDate()};_this.style=styleConstructor(_this.props.theme);_this.header=React.createRef();_this.addMonth=function(count){_this.updateMonth(_this.state.currentMonth.clone().addMonths(count,true));};_this.updateMonth=function(day){var doNotTriggerListeners=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(day.toString('yyyy MM')===_this.state.currentMonth.toString('yyyy MM')){return;}_this.setState({currentMonth:day.clone()},function(){if(!doNotTriggerListeners){var currMont=_this.state.currentMonth.clone();_.invoke(_this.props,'onMonthChange',xdateToData(currMont));_.invoke(_this.props,'onVisibleMonthsChange',[xdateToData(currMont)]);}});};_this.pressDay=function(date){_this.handleDayInteraction(date,_this.props.onDayPress);};_this.longPressDay=function(date){_this.handleDayInteraction(date,_this.props.onDayLongPress);};_this.swipeProps={onSwipe:function onSwipe(direction){return _this.onSwipe(direction);}};_this.onSwipe=function(gestureName){var SWIPE_UP=swipeDirections.SWIPE_UP,SWIPE_DOWN=swipeDirections.SWIPE_DOWN,SWIPE_LEFT=swipeDirections.SWIPE_LEFT,SWIPE_RIGHT=swipeDirections.SWIPE_RIGHT;switch(gestureName){case SWIPE_UP:case SWIPE_DOWN:break;case SWIPE_LEFT:_this.onSwipeLeft();break;case SWIPE_RIGHT:_this.onSwipeRight();break;}};_this.onSwipeLeft=function(){var _this$header,_this$header$current;(_this$header=_this.header)==null?void 0:(_this$header$current=_this$header.current)==null?void 0:_this$header$current.onPressRight();};_this.onSwipeRight=function(){var _this$header2,_this$header2$current;(_this$header2=_this.header)==null?void 0:(_this$header2$current=_this$header2.current)==null?void 0:_this$header2$current.onPressLeft();};_this.renderWeekNumber=memoize(function(weekNumber){return React.createElement(View,{style:_this.style.dayContainer,key:\"week-container-\"+weekNumber},React.createElement(BasicDay,{key:\"week-\"+weekNumber,marking:{disabled:true,disableTouchEvent:true},theme:_this.props.theme,testID:WEEK_NUMBER+\"-\"+weekNumber},weekNumber));});return _this;}_createClass(Calendar,[{key:\"handleDayInteraction\",value:function handleDayInteraction(date,interaction){var disableMonthChange=this.props.disableMonthChange;var day=parseDate(date);var minDate=parseDate(this.props.minDate);var maxDate=parseDate(this.props.maxDate);if(!(minDate&&!isGTE(day,minDate))&&!(maxDate&&!isLTE(day,maxDate))){var shouldUpdateMonth=disableMonthChange===undefined||!disableMonthChange;if(shouldUpdateMonth){this.updateMonth(day);}if(interaction){interaction(xdateToData(day));}}}},{key:\"renderDay\",value:function renderDay(day,id){var _this$props=this.props,hideExtraDays=_this$props.hideExtraDays,markedDates=_this$props.markedDates;var dayProps=extractComponentProps(Day,this.props);if(!sameMonth(day,this.state.currentMonth)&&hideExtraDays){return React.createElement(View,{key:id,style:this.style.emptyDayContainer});}return React.createElement(View,{style:this.style.dayContainer,key:id},React.createElement(Day,_extends({},dayProps,{day:day,state:getState(day,this.state.currentMonth,this.props),marking:markedDates==null?void 0:markedDates[toMarkingFormat(day)],onPress:this.pressDay,onLongPress:this.longPressDay})));}},{key:\"renderWeek\",value:function renderWeek(days,id){var _this2=this;var week=[];days.forEach(function(day,id2){week.push(_this2.renderDay(day,id2));},this);if(this.props.showWeekNumbers){week.unshift(this.renderWeekNumber(days[days.length-1].getWeek()));}return React.createElement(View,{style:this.style.week,key:id},week);}},{key:\"renderMonth\",value:function renderMonth(){var currentMonth=this.state.currentMonth;var _this$props2=this.props,firstDay=_this$props2.firstDay,showSixWeeks=_this$props2.showSixWeeks,hideExtraDays=_this$props2.hideExtraDays;var shouldShowSixWeeks=showSixWeeks&&!hideExtraDays;var days=page(currentMonth,firstDay,shouldShowSixWeeks);var weeks=[];while(days.length){weeks.push(this.renderWeek(days.splice(0,7),weeks.length));}return React.createElement(View,{style:this.style.monthView},weeks);}},{key:\"renderHeader\",value:function renderHeader(){var _this$props3=this.props,customHeader=_this$props3.customHeader,headerStyle=_this$props3.headerStyle,displayLoadingIndicator=_this$props3.displayLoadingIndicator,markedDates=_this$props3.markedDates,testID=_this$props3.testID;var current=parseDate(this.props.current);var indicator;if(current){var lastMonthOfDay=toMarkingFormat(current.clone().addMonths(1,true).setDate(1).addDays(-1));if(displayLoadingIndicator&&!(markedDates!=null&&markedDates[lastMonthOfDay])){indicator=true;}}var headerProps=extractComponentProps(CalendarHeader,this.props);var CustomHeader=customHeader;var HeaderComponent=customHeader?CustomHeader:CalendarHeader;return React.createElement(HeaderComponent,_extends({},headerProps,{testID:testID,style:headerStyle,ref:this.header,month:this.state.currentMonth,addMonth:this.addMonth,displayLoadingIndicator:indicator}));}},{key:\"render\",value:function render(){var _this$props4=this.props,enableSwipeMonths=_this$props4.enableSwipeMonths,style=_this$props4.style;var GestureComponent=enableSwipeMonths?GestureRecognizer:View;var gestureProps=enableSwipeMonths?this.swipeProps:undefined;return React.createElement(GestureComponent,gestureProps,React.createElement(View,{style:[this.style.container,style],accessibilityElementsHidden:this.props.accessibilityElementsHidden,importantForAccessibility:this.props.importantForAccessibility},this.renderHeader(),this.renderMonth()));}}]);return Calendar;}(Component);Calendar.displayName='Calendar';Calendar.propTypes=_objectSpread(_objectSpread(_objectSpread({},CalendarHeader.propTypes),Day.propTypes),{},{theme:PropTypes.object,style:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.number]),current:PropTypes.any,minDate:PropTypes.any,maxDate:PropTypes.any,firstDay:PropTypes.number,markedDates:PropTypes.object,displayLoadingIndicator:PropTypes.bool,showWeekNumbers:PropTypes.bool,hideExtraDays:PropTypes.bool,showSixWeeks:PropTypes.bool,onDayPress:PropTypes.func,onDayLongPress:PropTypes.func,onMonthChange:PropTypes.func,onVisibleMonthsChange:PropTypes.func,disableMonthChange:PropTypes.bool,enableSwipeMonths:PropTypes.bool,disabledByDefault:PropTypes.bool,headerStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.number,PropTypes.array]),customHeader:PropTypes.any});Calendar.defaultProps={enableSwipeMonths:false};export default Calendar;","map":{"version":3,"sources":["/app/node_modules/react-native-calendars/src/calendar/index.js"],"names":["_","PropTypes","XDate","memoize","React","Component","GestureRecognizer","swipeDirections","page","isGTE","isLTE","sameMonth","xdateToData","parseDate","toMarkingFormat","getState","extractComponentProps","WEEK_NUMBER","styleConstructor","CalendarHeader","Day","BasicDay","Calendar","state","currentMonth","props","current","style","theme","header","createRef","addMonth","count","updateMonth","clone","addMonths","day","doNotTriggerListeners","toString","setState","currMont","invoke","pressDay","date","handleDayInteraction","onDayPress","longPressDay","onDayLongPress","swipeProps","onSwipe","direction","gestureName","SWIPE_UP","SWIPE_DOWN","SWIPE_LEFT","SWIPE_RIGHT","onSwipeLeft","onSwipeRight","onPressRight","onPressLeft","renderWeekNumber","weekNumber","dayContainer","disabled","disableTouchEvent","interaction","disableMonthChange","minDate","maxDate","shouldUpdateMonth","undefined","id","hideExtraDays","markedDates","dayProps","emptyDayContainer","days","week","forEach","id2","push","renderDay","showWeekNumbers","unshift","length","getWeek","firstDay","showSixWeeks","shouldShowSixWeeks","weeks","renderWeek","splice","monthView","customHeader","headerStyle","displayLoadingIndicator","testID","indicator","lastMonthOfDay","setDate","addDays","headerProps","CustomHeader","HeaderComponent","enableSwipeMonths","GestureComponent","View","gestureProps","container","accessibilityElementsHidden","importantForAccessibility","renderHeader","renderMonth","displayName","propTypes","object","oneOfType","array","number","any","bool","func","onMonthChange","onVisibleMonthsChange","disabledByDefault","defaultProps"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport memoize from 'memoize-one';\nimport React, { Component } from 'react';\nimport { View } from 'react-native';\n// @ts-expect-error\nimport GestureRecognizer, { swipeDirections } from 'react-native-swipe-gestures';\n// @ts-expect-error\nimport { page, isGTE, isLTE, sameMonth } from '../dateutils';\n// @ts-expect-error\nimport { xdateToData, parseDate, toMarkingFormat } from '../interface';\n// @ts-expect-error\nimport { getState } from '../day-state-manager';\n// import shouldComponentUpdate from './updater';\n// @ts-expect-error\nimport { extractComponentProps } from '../component-updater';\n// @ts-expect-error\nimport { WEEK_NUMBER } from '../testIDs';\nimport styleConstructor from './style';\nimport CalendarHeader from './header';\nimport Day from './day/index';\nimport BasicDay from './day/basic';\n/**\n * @description: Calendar component\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/calendars.js\n * @gif: https://github.com/wix/react-native-calendars/blob/master/demo/calendar.gif\n */\nclass Calendar extends Component {\n    static displayName = 'Calendar';\n    static propTypes = {\n        ...CalendarHeader.propTypes,\n        ...Day.propTypes,\n        /** Specify theme properties to override specific styles for calendar parts. Default = {} */\n        theme: PropTypes.object,\n        /** Specify style for calendar container element. Default = {} */\n        style: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.number]),\n        /** Initially visible month. Default = Date() */\n        current: PropTypes.any,\n        /** Minimum date that can be selected, dates before minDate will be grayed out. Default = undefined */\n        minDate: PropTypes.any,\n        /** Maximum date that can be selected, dates after maxDate will be grayed out. Default = undefined */\n        maxDate: PropTypes.any,\n        /** If firstDay=1 week starts from Monday. Note that dayNames and dayNamesShort should still start from Sunday. */\n        firstDay: PropTypes.number,\n        /** Collection of dates that have to be marked. Default = {} */\n        markedDates: PropTypes.object,\n        /** Display loading indicator. Default = false */\n        displayLoadingIndicator: PropTypes.bool,\n        /** Show week numbers. Default = false */\n        showWeekNumbers: PropTypes.bool,\n        /** Do not show days of other months in month page. Default = false */\n        hideExtraDays: PropTypes.bool,\n        /** Always show six weeks on each month (only when hideExtraDays = false). Default = false */\n        showSixWeeks: PropTypes.bool,\n        /** Handler which gets executed on day press. Default = undefined */\n        onDayPress: PropTypes.func,\n        /** Handler which gets executed on day long press. Default = undefined */\n        onDayLongPress: PropTypes.func,\n        /** Handler which gets executed when month changes in calendar. Default = undefined */\n        onMonthChange: PropTypes.func,\n        /** Handler which gets executed when visible month changes in calendar. Default = undefined */\n        onVisibleMonthsChange: PropTypes.func,\n        /** Disables changing month when click on days of other months (when hideExtraDays is false). Default = false */\n        disableMonthChange: PropTypes.bool,\n        /** Enable the option to swipe between months. Default: false */\n        enableSwipeMonths: PropTypes.bool,\n        /** Disable days by default. Default = false */\n        disabledByDefault: PropTypes.bool,\n        /** Style passed to the header */\n        headerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n        /** Allow rendering of a totally custom header */\n        customHeader: PropTypes.any\n    };\n    static defaultProps = {\n        enableSwipeMonths: false\n    };\n    state = {\n        currentMonth: this.props.current ? parseDate(this.props.current) : new XDate()\n    };\n    style = styleConstructor(this.props.theme);\n    header = React.createRef();\n    addMonth = (count) => {\n        this.updateMonth(this.state.currentMonth.clone().addMonths(count, true));\n    };\n    updateMonth = (day, doNotTriggerListeners = false) => {\n        if (day.toString('yyyy MM') === this.state.currentMonth.toString('yyyy MM')) {\n            return;\n        }\n        this.setState({ currentMonth: day.clone() }, () => {\n            if (!doNotTriggerListeners) {\n                const currMont = this.state.currentMonth.clone();\n                _.invoke(this.props, 'onMonthChange', xdateToData(currMont));\n                _.invoke(this.props, 'onVisibleMonthsChange', [xdateToData(currMont)]);\n            }\n        });\n    };\n    handleDayInteraction(date, interaction) {\n        const { disableMonthChange } = this.props;\n        const day = parseDate(date);\n        const minDate = parseDate(this.props.minDate);\n        const maxDate = parseDate(this.props.maxDate);\n        if (!(minDate && !isGTE(day, minDate)) && !(maxDate && !isLTE(day, maxDate))) {\n            const shouldUpdateMonth = disableMonthChange === undefined || !disableMonthChange;\n            if (shouldUpdateMonth) {\n                this.updateMonth(day);\n            }\n            if (interaction) {\n                interaction(xdateToData(day));\n            }\n        }\n    }\n    pressDay = (date) => {\n        this.handleDayInteraction(date, this.props.onDayPress);\n    };\n    longPressDay = (date) => {\n        this.handleDayInteraction(date, this.props.onDayLongPress);\n    };\n    swipeProps = { onSwipe: (direction) => this.onSwipe(direction) };\n    onSwipe = (gestureName) => {\n        const { SWIPE_UP, SWIPE_DOWN, SWIPE_LEFT, SWIPE_RIGHT } = swipeDirections;\n        switch (gestureName) {\n            case SWIPE_UP:\n            case SWIPE_DOWN:\n                break;\n            case SWIPE_LEFT:\n                this.onSwipeLeft();\n                break;\n            case SWIPE_RIGHT:\n                this.onSwipeRight();\n                break;\n        }\n    };\n    onSwipeLeft = () => {\n        this.header?.current?.onPressRight();\n    };\n    onSwipeRight = () => {\n        this.header?.current?.onPressLeft();\n    };\n    renderWeekNumber = memoize(weekNumber => {\n        return (<View style={this.style.dayContainer} key={`week-container-${weekNumber}`}>\n        <BasicDay key={`week-${weekNumber}`} marking={{ disabled: true, disableTouchEvent: true }} \n        // state='disabled'\n        theme={this.props.theme} testID={`${WEEK_NUMBER}-${weekNumber}`}>\n          {weekNumber}\n        </BasicDay>\n      </View>);\n    });\n    renderDay(day, id) {\n        const { hideExtraDays, markedDates } = this.props;\n        const dayProps = extractComponentProps(Day, this.props);\n        if (!sameMonth(day, this.state.currentMonth) && hideExtraDays) {\n            return <View key={id} style={this.style.emptyDayContainer}/>;\n        }\n        return (<View style={this.style.dayContainer} key={id}>\n        <Day {...dayProps} day={day} state={getState(day, this.state.currentMonth, this.props)} marking={markedDates?.[toMarkingFormat(day)]} onPress={this.pressDay} onLongPress={this.longPressDay}/>\n      </View>);\n    }\n    renderWeek(days, id) {\n        const week = [];\n        days.forEach((day, id2) => {\n            week.push(this.renderDay(day, id2));\n        }, this);\n        if (this.props.showWeekNumbers) {\n            week.unshift(this.renderWeekNumber(days[days.length - 1].getWeek()));\n        }\n        return (<View style={this.style.week} key={id}>\n        {week}\n      </View>);\n    }\n    renderMonth() {\n        const { currentMonth } = this.state;\n        const { firstDay, showSixWeeks, hideExtraDays } = this.props;\n        const shouldShowSixWeeks = showSixWeeks && !hideExtraDays;\n        const days = page(currentMonth, firstDay, shouldShowSixWeeks);\n        const weeks = [];\n        while (days.length) {\n            weeks.push(this.renderWeek(days.splice(0, 7), weeks.length));\n        }\n        return <View style={this.style.monthView}>{weeks}</View>;\n    }\n    renderHeader() {\n        const { customHeader, headerStyle, displayLoadingIndicator, markedDates, testID } = this.props;\n        const current = parseDate(this.props.current);\n        let indicator;\n        if (current) {\n            const lastMonthOfDay = toMarkingFormat(current.clone().addMonths(1, true).setDate(1).addDays(-1));\n            if (displayLoadingIndicator && !markedDates?.[lastMonthOfDay]) {\n                indicator = true;\n            }\n        }\n        const headerProps = extractComponentProps(CalendarHeader, this.props);\n        const CustomHeader = customHeader;\n        const HeaderComponent = customHeader ? CustomHeader : CalendarHeader;\n        return (<HeaderComponent {...headerProps} testID={testID} style={headerStyle} ref={this.header} month={this.state.currentMonth} addMonth={this.addMonth} displayLoadingIndicator={indicator}/>);\n    }\n    render() {\n        const { enableSwipeMonths, style } = this.props;\n        const GestureComponent = enableSwipeMonths ? GestureRecognizer : View;\n        const gestureProps = enableSwipeMonths ? this.swipeProps : undefined;\n        return (<GestureComponent {...gestureProps}>\n        <View style={[this.style.container, style]} accessibilityElementsHidden={this.props.accessibilityElementsHidden} // iOS\n         importantForAccessibility={this.props.importantForAccessibility} // Android\n        >\n          {this.renderHeader()}\n          {this.renderMonth()}\n        </View>\n      </GestureComponent>);\n    }\n}\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}