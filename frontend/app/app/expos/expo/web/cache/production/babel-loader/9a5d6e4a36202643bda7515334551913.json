{"ast":null,"code":"\"use strict\";var _objectWithoutProperties=require(\"@babel/runtime/helpers/objectWithoutProperties\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireDefault(require(\"react\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _useIMGElementState=_interopRequireDefault(require(\"./useIMGElementState\"));var _IMGElementContentSuccess=_interopRequireDefault(require(\"./IMGElementContentSuccess\"));var _IMGElementContainer=_interopRequireDefault(require(\"./IMGElementContainer\"));var _IMGElementContentLoading=_interopRequireDefault(require(\"./IMGElementContentLoading\"));var _IMGElementContentError=_interopRequireDefault(require(\"./IMGElementContentError\"));var _defaultInitialImageDimensions=_interopRequireDefault(require(\"./defaultInitialImageDimensions\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function identity(arg){return arg;}function IMGElement(_ref){var onPress=_ref.onPress,testID=_ref.testID,props=_objectWithoutProperties(_ref,[\"onPress\",\"testID\"]);var state=(0,_useIMGElementState.default)(props);var content=false;if(state.type==='success'){content=_react.default.createElement(_IMGElementContentSuccess.default,state);}else if(state.type==='loading'){content=_react.default.createElement(_IMGElementContentLoading.default,state);}else{content=_react.default.createElement(_IMGElementContentError.default,state);}return _react.default.createElement(_IMGElementContainer.default,{testID:testID,onPress:onPress,style:state.containerStyle},content);}var imgDimensionsType=_propTypes.default.shape({width:_propTypes.default.number,height:_propTypes.default.number});var propTypes={source:_propTypes.default.object.isRequired,alt:_propTypes.default.string,altColor:_propTypes.default.string,height:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),width:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),style:_propTypes.default.oneOfType([_propTypes.default.object,_propTypes.default.array]),computeMaxWidth:_propTypes.default.func.isRequired,contentWidth:_propTypes.default.number,enableExperimentalPercentWidth:_propTypes.default.bool,initialDimensions:imgDimensionsType,onPress:_propTypes.default.func,testID:_propTypes.default.string,objectFit:_propTypes.default.string,cachedNaturalDimensions:imgDimensionsType};IMGElement.propTypes=propTypes;IMGElement.defaultProps={enableExperimentalPercentWidth:false,computeMaxWidth:identity,imagesInitialDimensions:_defaultInitialImageDimensions.default,style:{}};var _default=IMGElement;exports.default=_default;","map":{"version":3,"sources":["IMGElement.tsx"],"names":["props","state","content","React","IMGElementContentSuccess","IMGElementContentLoading","IMGElementContentError","containerStyle","imgDimensionsType","width","PropTypes","height","number","propTypes","source","alt","altColor","style","computeMaxWidth","contentWidth","enableExperimentalPercentWidth","initialDimensions","onPress","testID","objectFit","cachedNaturalDimensions","IMGElement","imagesInitialDimensions","defaultImageInitialDimensions"],"mappings":"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","sourcesContent":["import React, { ReactElement, ReactNode } from 'react';\nimport PropTypes from 'prop-types';\nimport useIMGElementState from './useIMGElementState';\nimport IMGElementContentSuccess from './IMGElementContentSuccess';\nimport IMGElementContainer from './IMGElementContainer';\nimport IMGElementContentLoading from './IMGElementContentLoading';\nimport IMGElementContentError from './IMGElementContentError';\nimport type { IMGElementProps } from './img-types';\nimport defaultImageInitialDimensions from './defaultInitialImageDimensions';\n\nexport type { IMGElementProps } from './img-types';\n\nfunction identity(arg: any) {\n  return arg;\n}\n\n/**\n * A component to render images based on an internal loading state.\n *\n * @remarks This component will attempt to draw a box of paint dimensions\n * before retrieving the physical dimensions of the image to avoid layout\n * shifts. See also {@link useIMGElementState}, {@link IMGElementContainer},\n * {@link IMGElementContentSuccess}, {@link IMGElementContentLoading}\n * and {@link IMGElementContentError} for customization.\n */\nfunction IMGElement({\n  onPress,\n  testID,\n  ...props\n}: IMGElementProps): ReactElement {\n  const state = useIMGElementState(props);\n  let content: ReactNode = false;\n  if (state.type === 'success') {\n    content = React.createElement(IMGElementContentSuccess, state);\n  } else if (state.type === 'loading') {\n    content = React.createElement(IMGElementContentLoading, state);\n  } else {\n    content = React.createElement(IMGElementContentError, state);\n  }\n  return (\n    <IMGElementContainer\n      testID={testID}\n      onPress={onPress}\n      style={state.containerStyle}>\n      {content}\n    </IMGElementContainer>\n  );\n}\n\nconst imgDimensionsType = PropTypes.shape({\n  width: PropTypes.number,\n  height: PropTypes.number\n});\n\nconst propTypes: Record<keyof IMGElementProps, any> = {\n  source: PropTypes.object.isRequired,\n  alt: PropTypes.string,\n  altColor: PropTypes.string,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  computeMaxWidth: PropTypes.func.isRequired,\n  contentWidth: PropTypes.number,\n  enableExperimentalPercentWidth: PropTypes.bool,\n  initialDimensions: imgDimensionsType,\n  onPress: PropTypes.func,\n  testID: PropTypes.string,\n  objectFit: PropTypes.string,\n  cachedNaturalDimensions: imgDimensionsType\n};\n\n/**\n * @ignore\n */\nIMGElement.propTypes = propTypes;\n\n/**\n * @ignore\n */\nIMGElement.defaultProps = {\n  enableExperimentalPercentWidth: false,\n  computeMaxWidth: identity,\n  imagesInitialDimensions: defaultImageInitialDimensions,\n  style: {}\n};\n\nexport default IMGElement;\n"]},"metadata":{},"sourceType":"script"}