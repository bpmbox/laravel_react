{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import _ from'lodash';import PropTypes from'prop-types';import XDate from'xdate';import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import styleConstructor from\"./style\";import populateEvents from\"./Packer\";var LEFT_MARGIN=60-1;var TEXT_LINE_HEIGHT=17;function range(from,to){return Array.from(Array(to),function(_,i){return from+i;});}var _Dimensions$get=Dimensions.get('window'),dimensionWidth=_Dimensions$get.width;var Timeline=function(_Component){_inherits(Timeline,_Component);var _super=_createSuper(Timeline);function Timeline(props){var _this;_classCallCheck(this,Timeline);_this=_super.call(this,props);_this.scrollView=React.createRef();var _this$props=_this.props,_this$props$start=_this$props.start,start=_this$props$start===void 0?0:_this$props$start,_this$props$end=_this$props.end,end=_this$props$end===void 0?0:_this$props$end;_this.calendarHeight=(end-start)*100;_this.style=styleConstructor(props.theme||props.styles,_this.calendarHeight);var width=dimensionWidth-LEFT_MARGIN;var packedEvents=populateEvents(props.events,width,start);var initPosition=_.min(_.map(packedEvents,'top'))-_this.calendarHeight/(end-start);var verifiedInitPosition=initPosition<0?0:initPosition;_this.state={_scrollY:verifiedInitPosition,packedEvents:packedEvents};return _this;}_createClass(Timeline,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var width=dimensionWidth-LEFT_MARGIN;var prevEvents=prevProps.events,_prevProps$start=prevProps.start,prevStart=_prevProps$start===void 0?0:_prevProps$start;var _this$props2=this.props,events=_this$props2.events,_this$props2$start=_this$props2.start,start=_this$props2$start===void 0?0:_this$props2$start;if(prevEvents!==events||prevStart!==start){this.setState({packedEvents:populateEvents(events,width,start)});}}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.scrollToFirst&&this.scrollToFirst();}},{key:\"scrollToFirst\",value:function scrollToFirst(){var _this2=this;setTimeout(function(){if(_this2.state&&_this2.state._scrollY&&_this2.scrollView){var _this2$scrollView,_this2$scrollView$cur;(_this2$scrollView=_this2.scrollView)==null?void 0:(_this2$scrollView$cur=_this2$scrollView.current)==null?void 0:_this2$scrollView$cur.scrollTo({x:0,y:_this2.state._scrollY,animated:true});}},1);}},{key:\"_renderLines\",value:function _renderLines(){var _this3=this;var _this$props3=this.props,format24h=_this$props3.format24h,_this$props3$start=_this$props3.start,start=_this$props3$start===void 0?0:_this$props3$start,_this$props3$end=_this$props3.end,end=_this$props3$end===void 0?24:_this$props3$end;var offset=this.calendarHeight/(end-start);var EVENT_DIFF=20;return range(start,end+1).map(function(i,index){var timeText;if(i===start){timeText='';}else if(i<12){timeText=!format24h?i+\" AM\":i+\":00\";}else if(i===12){timeText=!format24h?i+\" PM\":i+\":00\";}else if(i===24){timeText=!format24h?'12 AM':'23:59';}else{timeText=!format24h?i-12+\" PM\":i+\":00\";}return[React.createElement(Text,{key:\"timeLabel\"+i,style:[_this3.style.timeLabel,{top:offset*index-6}]},timeText),i===start?null:React.createElement(View,{key:\"line\"+i,style:[_this3.style.line,{top:offset*index,width:dimensionWidth-EVENT_DIFF}]}),React.createElement(View,{key:\"lineHalf\"+i,style:[_this3.style.line,{top:offset*(index+0.5),width:dimensionWidth-EVENT_DIFF}]})];});}},{key:\"_onEventPress\",value:function _onEventPress(event){if(this.props.eventTapped){this.props.eventTapped(event);}else{_.invoke(this.props,'onEventPress',event);}}},{key:\"_renderEvents\",value:function _renderEvents(){var _this4=this;var packedEvents=this.state.packedEvents;var events=packedEvents.map(function(event,i){var style={left:event.left,height:event.height,width:event.width,top:event.top,backgroundColor:event.color?event.color:'#add8e6'};var numberOfLines=Math.floor(event.height/TEXT_LINE_HEIGHT);var formatTime=_this4.props.format24h?'HH:mm':'hh:mm A';return React.createElement(TouchableOpacity,{activeOpacity:0.9,onPress:function onPress(){return _this4._onEventPress(_this4.props.events[event.index]);},key:i,style:[_this4.style.event,style]},_this4.props.renderEvent?_this4.props.renderEvent(event):React.createElement(View,null,React.createElement(Text,{numberOfLines:1,style:_this4.style.eventTitle},event.title||'Event'),numberOfLines>1?React.createElement(Text,{numberOfLines:numberOfLines-1,style:[_this4.style.eventSummary]},event.summary||' '):null,numberOfLines>2?React.createElement(Text,{style:_this4.style.eventTimes,numberOfLines:1},new XDate(event.start).toString(formatTime),\" - \",new XDate(event.end).toString(formatTime)):null));});return React.createElement(View,null,React.createElement(View,{style:{marginLeft:LEFT_MARGIN}},events));}},{key:\"render\",value:function render(){return React.createElement(ScrollView,{ref:this.scrollView,contentContainerStyle:[this.style.contentStyle,{width:dimensionWidth}]},this._renderLines(),this._renderEvents());}}]);return Timeline;}(Component);Timeline.propTypes={start:PropTypes.number,end:PropTypes.number,eventTapped:PropTypes.func,onEventPress:PropTypes.func,format24h:PropTypes.bool,events:PropTypes.arrayOf(PropTypes.shape({start:PropTypes.string.isRequired,end:PropTypes.string.isRequired,title:PropTypes.string.isRequired,summary:PropTypes.string.isRequired,color:PropTypes.string})).isRequired};Timeline.defaultProps={start:0,end:24,events:[],format24h:true};export{Timeline as default};","map":{"version":3,"sources":["/app/node_modules/react-native-calendars/src/timeline/Timeline.js"],"names":["_","PropTypes","XDate","React","Component","styleConstructor","populateEvents","LEFT_MARGIN","TEXT_LINE_HEIGHT","range","from","to","Array","i","Dimensions","get","dimensionWidth","width","Timeline","props","scrollView","createRef","start","end","calendarHeight","style","theme","styles","packedEvents","events","initPosition","min","map","verifiedInitPosition","state","_scrollY","prevProps","prevEvents","prevStart","setState","scrollToFirst","setTimeout","current","scrollTo","x","y","animated","format24h","offset","EVENT_DIFF","index","timeText","timeLabel","top","line","event","eventTapped","invoke","left","height","backgroundColor","color","numberOfLines","Math","floor","formatTime","_onEventPress","renderEvent","eventTitle","title","eventSummary","summary","eventTimes","toString","marginLeft","contentStyle","_renderLines","_renderEvents","propTypes","number","func","onEventPress","bool","arrayOf","shape","string","isRequired","defaultProps"],"mappings":"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","sourcesContent":["// @flow\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { Component } from 'react';\nimport { View, Text, TouchableOpacity, Dimensions, ScrollView } from 'react-native';\nimport styleConstructor from './style';\nimport populateEvents from './Packer';\nconst LEFT_MARGIN = 60 - 1;\nconst TEXT_LINE_HEIGHT = 17;\nfunction range(from, to) {\n    return Array.from(Array(to), (_, i) => from + i);\n}\nlet { width: dimensionWidth } = Dimensions.get('window');\nexport default class Timeline extends Component {\n    static propTypes = {\n        start: PropTypes.number,\n        end: PropTypes.number,\n        eventTapped: PropTypes.func,\n        onEventPress: PropTypes.func,\n        format24h: PropTypes.bool,\n        events: PropTypes.arrayOf(PropTypes.shape({\n            start: PropTypes.string.isRequired,\n            end: PropTypes.string.isRequired,\n            title: PropTypes.string.isRequired,\n            summary: PropTypes.string.isRequired,\n            color: PropTypes.string\n        })).isRequired\n    };\n    static defaultProps = {\n        start: 0,\n        end: 24,\n        events: [],\n        format24h: true\n    };\n    scrollView = React.createRef();\n    style;\n    calendarHeight;\n    constructor(props) {\n        super(props);\n        const { start = 0, end = 0 } = this.props;\n        this.calendarHeight = (end - start) * 100;\n        this.style = styleConstructor(props.theme || props.styles, this.calendarHeight);\n        const width = dimensionWidth - LEFT_MARGIN;\n        const packedEvents = populateEvents(props.events, width, start);\n        let initPosition = _.min(_.map(packedEvents, 'top')) - this.calendarHeight / (end - start);\n        const verifiedInitPosition = initPosition < 0 ? 0 : initPosition;\n        this.state = {\n            _scrollY: verifiedInitPosition,\n            packedEvents\n        };\n    }\n    componentDidUpdate(prevProps) {\n        const width = dimensionWidth - LEFT_MARGIN;\n        const { events: prevEvents, start: prevStart = 0 } = prevProps;\n        const { events, start = 0 } = this.props;\n        if (prevEvents !== events || prevStart !== start) {\n            this.setState({\n                packedEvents: populateEvents(events, width, start)\n            });\n        }\n    }\n    componentDidMount() {\n        this.props.scrollToFirst && this.scrollToFirst();\n    }\n    scrollToFirst() {\n        setTimeout(() => {\n            if (this.state && this.state._scrollY && this.scrollView) {\n                this.scrollView?.current?.scrollTo({\n                    x: 0,\n                    y: this.state._scrollY,\n                    animated: true\n                });\n            }\n        }, 1);\n    }\n    _renderLines() {\n        const { format24h, start = 0, end = 24 } = this.props;\n        const offset = this.calendarHeight / (end - start);\n        const EVENT_DIFF = 20;\n        return range(start, end + 1).map((i, index) => {\n            let timeText;\n            if (i === start) {\n                timeText = '';\n            }\n            else if (i < 12) {\n                timeText = !format24h ? `${i} AM` : `${i}:00`;\n            }\n            else if (i === 12) {\n                timeText = !format24h ? `${i} PM` : `${i}:00`;\n            }\n            else if (i === 24) {\n                timeText = !format24h ? '12 AM' : '23:59';\n            }\n            else {\n                timeText = !format24h ? `${i - 12} PM` : `${i}:00`;\n            }\n            return [\n                <Text key={`timeLabel${i}`} style={[this.style.timeLabel, { top: offset * index - 6 }]}>\n          {timeText}\n        </Text>,\n                i === start ? null : (<View key={`line${i}`} style={[this.style.line, { top: offset * index, width: dimensionWidth - EVENT_DIFF }]}/>),\n                <View key={`lineHalf${i}`} style={[this.style.line, { top: offset * (index + 0.5), width: dimensionWidth - EVENT_DIFF }]}/>\n            ];\n        });\n    }\n    _onEventPress(event) {\n        if (this.props.eventTapped) { //TODO: remove after deprecation\n            this.props.eventTapped(event);\n        }\n        else {\n            _.invoke(this.props, 'onEventPress', event);\n        }\n    }\n    _renderEvents() {\n        const { packedEvents } = this.state;\n        let events = packedEvents.map((event, i) => {\n            const style = {\n                left: event.left,\n                height: event.height,\n                width: event.width,\n                top: event.top,\n                backgroundColor: event.color ? event.color : '#add8e6'\n            };\n            // Fixing the number of lines for the event title makes this calculation easier.\n            // However it would make sense to overflow the title to a new line if needed\n            const numberOfLines = Math.floor(event.height / TEXT_LINE_HEIGHT);\n            const formatTime = this.props.format24h ? 'HH:mm' : 'hh:mm A';\n            return (<TouchableOpacity activeOpacity={0.9} onPress={() => this._onEventPress(this.props.events[event.index])} key={i} style={[this.style.event, style]}>\n          {this.props.renderEvent ? (this.props.renderEvent(event)) : (<View>\n              <Text numberOfLines={1} style={this.style.eventTitle}>\n                {event.title || 'Event'}\n              </Text>\n              {numberOfLines > 1 ? (<Text numberOfLines={numberOfLines - 1} style={[this.style.eventSummary]}>\n                  {event.summary || ' '}\n                </Text>) : null}\n              {numberOfLines > 2 ? (<Text style={this.style.eventTimes} numberOfLines={1}>\n                  {new XDate(event.start).toString(formatTime)} - {new XDate(event.end).toString(formatTime)}\n                </Text>) : null}\n            </View>)}\n        </TouchableOpacity>);\n        });\n        return (<View>\n        <View style={{ marginLeft: LEFT_MARGIN }}>{events}</View>\n      </View>);\n    }\n    render() {\n        return (<ScrollView ref={this.scrollView} contentContainerStyle={[this.style.contentStyle, { width: dimensionWidth }]}>\n        {this._renderLines()}\n        {this._renderEvents()}\n      </ScrollView>);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}