{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useAssembledCommonProps;\n\nvar _mergeCollapsedMargins = _interopRequireDefault(require(\"../helpers/mergeCollapsedMargins\"));\n\nvar _RenderRegistryProvider = require(\"../context/RenderRegistryProvider\");\n\nvar _SharedPropsProvider = require(\"../context/SharedPropsProvider\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction useAssembledCommonProps(_ref2, TDefault) {\n  var tnode = _ref2.tnode,\n      propsFromParent = _ref2.propsFromParent,\n      sharedProps = _ref2.sharedProps;\n\n  var _ref;\n\n  var _ref3 = (0, _RenderRegistryProvider.useRendererConfig)(tnode),\n      Default = _ref3.Default,\n      Custom = _ref3.Custom;\n\n  var containerProps = (0, _SharedPropsProvider.useDefaultContainerProps)();\n\n  var assembledProps = _objectSpread({\n    tnode: tnode,\n    propsFromParent: propsFromParent,\n    sharedProps: sharedProps,\n    TDefaultRenderer: TDefault,\n    style: (0, _mergeCollapsedMargins.default)(propsFromParent === null || propsFromParent === void 0 ? void 0 : propsFromParent.collapsedMarginTop, tnode.getNativeStyles()),\n    type: tnode.type === 'text' || tnode.type === 'phrasing' ? 'text' : 'block',\n    propsForChildren: tnode.tagName ? {} : propsFromParent,\n    InternalRenderer: Default || TDefault\n  }, containerProps);\n\n  return {\n    assembledProps: assembledProps,\n    Renderer: (_ref = Custom !== null && Custom !== void 0 ? Custom : Default) !== null && _ref !== void 0 ? _ref : TDefault\n  };\n}","map":{"version":3,"sources":["useAssembledCommonProps.ts"],"names":["sharedProps","Custom","containerProps","assembledProps","tnode","propsFromParent","TDefaultRenderer","style","type","propsForChildren","InternalRenderer","Default","Renderer","TDefault"],"mappings":";;;;;;;;;;;;;AAQA,IAAA,sBAAA,GAAA,sBAAA,CAAA,OAAA,oCAAA,CAAA;;AACA,IAAA,uBAAA,GAAA,OAAA,qCAAA;;AACA,IAAA,oBAAA,GAAA,OAAA,kCAAA;;;;;;;;AAKe,SAAA,uBAAA,QAAA,QAAA,EAMb;AAAA,MALA,KAKA,SALA,KAKA;AAAA,MALA,eAKA,SALA,eAKA;AAAA,MAL0BA,WAK1B,SAL0BA,WAK1B;;AAAA,MAAA,IAAA;;AACA,cAA4B,CAAA,GAAA,uBAAA,CAAA,iBAAA,EAA5B,KAA4B,CAA5B;AAAA,MAAM,OAAN,SAAM,OAAN;AAAA,MAAiBC,MAAjB,SAAiBA,MAAjB;;AACA,MAAMC,cAAc,GAAG,CAAA,GAAA,oBAAA,CAAvB,wBAAuB,GAAvB;;AACA,MAAMC,cAAiE;AACrEC,IAAAA,KADwE,EACxEA,KADqE;AAErEC,IAAAA,eAFwE,EAExEA,eAFqE;AAGrEL,IAAAA,WAHwE,EAGxEA,WAHqE;AAIrEM,IAAAA,gBAAgB,EAJwD,QAAH;AAKrEC,IAAAA,KAAK,EAAE,CAAA,GAAA,sBAAA,CAAA,OAAA,EACLF,eADK,KAAA,IACLA,IAAAA,eADK,KAAA,KAAA,CACLA,GADK,KAAA,CACLA,GAAAA,eAAe,CADV,kBAAA,EAELD,KAAK,CAPiE,eAOtEA,EAFK,CAL8D;AASrEI,IAAAA,IAAI,EAAEJ,KAAK,CAALA,IAAAA,KAAAA,MAAAA,IAAyBA,KAAK,CAALA,IAAAA,KAAzBA,UAAAA,GAAAA,MAAAA,GATkE,OAAH;AAUrEK,IAAAA,gBAAgB,EAAEL,KAAK,CAALA,OAAAA,GAAAA,EAAAA,GAVsD,eAAH;AAWrEM,IAAAA,gBAAgB,EAAEC,OAAO,IAX+C;AAAH,KAYlET,cAZkE,CAAvE;;AAcA,SAAO;AACLC,IAAAA,cADK,EACLA,cADK;AAELS,IAAAA,QAAQ,EAAA,CAAA,IAAA,GAAGX,MAAH,KAAA,IAAGA,IAAAA,MAAH,KAAA,KAAA,CAAGA,GAAH,MAAGA,GAAH,OAAA,MAAA,IAAA,IAAA,IAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAwBY;AAF3B,GAAP;AAID","sourcesContent":["import { TNode } from '@native-html/transient-render-engine';\nimport {\n  CustomRenderer,\n  CustomRendererProps,\n  TDefaultRenderer,\n  TDefaultRendererProps\n} from '../shared-types';\nimport { TNodeSubRendererProps } from '../internal-types';\nimport mergeCollapsedMargins from '../helpers/mergeCollapsedMargins';\nimport { useRendererConfig } from '../context/RenderRegistryProvider';\nimport { useDefaultContainerProps } from '../context/SharedPropsProvider';\n\n/**\n * @internal\n */\nexport default function useAssembledCommonProps<T extends TNode>(\n  { tnode, propsFromParent, sharedProps }: TNodeSubRendererProps<T>,\n  TDefault: TDefaultRenderer<T>\n): {\n  assembledProps: CustomRendererProps<T> & TDefaultRendererProps<T>;\n  Renderer: CustomRenderer<T>;\n} {\n  const { Default, Custom } = useRendererConfig(tnode);\n  const containerProps = useDefaultContainerProps();\n  const assembledProps: CustomRendererProps<T> & TDefaultRendererProps<T> = {\n    tnode,\n    propsFromParent,\n    sharedProps,\n    TDefaultRenderer: TDefault,\n    style: mergeCollapsedMargins(\n      propsFromParent?.collapsedMarginTop!,\n      tnode.getNativeStyles()\n    ) as any,\n    type: tnode.type === 'text' || tnode.type === 'phrasing' ? 'text' : 'block',\n    propsForChildren: tnode.tagName ? {} : propsFromParent,\n    InternalRenderer: Default || (TDefault as any),\n    ...containerProps\n  };\n  return {\n    assembledProps,\n    Renderer: (Custom ?? Default ?? TDefault) as any\n  };\n}\n"]},"metadata":{},"sourceType":"script"}